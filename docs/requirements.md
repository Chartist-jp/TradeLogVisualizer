# トレード分析アプリ（TradeLog Visualizer）要件定義書

## 1. 企画概要・ターゲット
- **コンセプト:** 「自分のトレードを客観視し、勝ち筋を『型』にする」ための振り返り特化型チャート。
- **ターゲット:** 手法を安定させたい中長期投資家。スイングトレード以上の層。
- **解決する課題:** 履歴だけでは見えない「エントリー/エグジットのチャート上の位置」を可視化し、同じ失敗を防ぐ。

## 2. 機能要件 (Functional Requirements)

### ① マルチチャート・同期表示機能
- **表示時間足:** 日足、週足、月足の3種類。
- **並び替え:** ドラッグ＆ドロップによるチャート並び替え（勝ち/負け比較）。
- **期間同期:** 全チャートの期間同期（グローバル・タイムシンク）。

### ② データインポート機能
- **ソース:** SBI証券の「約定履歴（CSV）」。
- **対応:** 日本株、米国株。
- **自動マッピング:** 銘柄コード、日付、価格を読み取り、チャート上に「Buy/Sell」マーカーを表示。
- **トレード統合:** 同一銘柄の複数売買を一つの「トレード」として統合し、平均取得単価や損益を計算。

### ③ インジケーター・描画
- **移動平均線:** 5日、21日。
- **出来高:** 棒グラフ + 50日移動平均線。
- **表示制御:** ON/OFF切り替え。

## 3. システム要件 (System Requirements)

- **認証:** メール/SNSログイン。
- **セキュリティ:** 金融データの暗号化、マスキングモード。
- **パフォーマンス:** 複数チャート同時表示時の最適化（Lightweight Charts使用）。
- **外部IF:** 株価データ取得（J-Quants等商用API検討）。

## 4. 開発ロードマップ

1. **フェーズ1 (プロトタイプ):** 1つの銘柄のSBI CSV読み込み、日足チャートにBuy/Sell表示。
2. **フェーズ2 (マルチ表示):** 3つの時間足の同期表示。
3. **フェーズ3 (管理機能):** トレードの成功/失敗タグ付け・保存。
4. **フェーズ4 (リリース):** 認証・決済導入。

## 5. 法的整理
- **投資助言業:** 「過去の事実の可視化」に徹し、投資判断の予測・助言を行わないことで該当しない構成とする。
- **利用規約:** 「ツール提供であり助言ではない」旨を明記。
